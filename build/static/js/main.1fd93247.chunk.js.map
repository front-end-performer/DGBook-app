{"version":3,"sources":["fire-base.js","component/Header.js","component/Home.js","component/Login.js","component/Register.js","component/EditBook.js","component/CreateBook.js","component/NoMatch.js","component/App.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","auth","db","firestore","storage","Header","logOut","signOut","then","localStorage","removeItem","NotificationManager","success","setTimeout","window","location","catch","error","console","log","message","code","privateRoute","getItem","react_default","a","createElement","Fragment","className","NavLink","to","activeClassName","onClick","_this","type","id","exact","this","React","Component","Home","props","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSearchChange","event","setState","searchKeyword","target","value","handleFilterData","_this$state","state","books","filterResult","filter","book","title","toLowerCase","includes","buyBook","canEdit","userUid","Link","concat","uid","_this2","collection","get","querySnapshot","data","docs","map","doc","setItem","JSON","stringify","_this3","placeholder","onChange","key","src","image","alt","author","rating","href","link","rel","Login","handleSubmit","preventDefault","isSubmitting","formValues","formValidity","values","every","Boolean","signInWithEmailAndPassword","email","password","response","user","history","push","name","handleValidation","handleChange","_ref","fieldValidationErrors","formErrors","validity","isEmail","length","test","_this$state2","onSubmit","disabled","Register","createUserWithEmailAndPassword","EditBook","handleInputChange","handleFileChange","_ref2","files","warning","storageRef","ref","File","uploadTask","child","put","on","complete","snapshot","getDownloadURL","downloadURL","editBook","downloadUrl","objectSpread","match","params","bookUid","set","Number","CreateBook","addBook","Date","getTime","toString","NoMatch","App","authListener","onAuthStateChanged","lib","component_Header","Switch","Route","path","component","render","component_CreateBook","assign","component_EditBook","ReactDOM","BrowserRouter","component_App","document","getElementById"],"mappings":"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","file":"static/js/main.1fd93247.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseApp = firebase.initializeApp({\n  // copy and paste your firebase credential here\n  apiKey: \"AIzaSyAaDJoefmVpYCOxGpszhSAO2YTEcyYz35M\",\n  authDomain: \"dg-book-nackend.firebaseapp.com\",\n  databaseURL: \"https://dg-book-nackend.firebaseio.com\",\n  projectId: \"dg-book-nackend\",\n  storageBucket: \"gs://dg-book-nackend.appspot.com\",\n  messagingSenderId: \"335779349775\"\n});\n\nconst auth = firebase.auth();\nconst db = firebaseApp.firestore();\nconst storage = firebaseApp.storage();\n\nexport { auth, db, storage };\n\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {NotificationManager} from 'react-notifications';\r\n\r\nimport {auth} from '../fire-base';\r\n\r\nclass Header extends React.Component {\r\n  logOut = () => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        localStorage.removeItem('user');\r\n        NotificationManager.success('You are logged out', 'Success');\r\n        setTimeout(function() {\r\n          window.location = '/';\r\n        }, 1000);\r\n      })\r\n      .catch(error => {\r\n        // An error happened.\r\n        console.log(error.message);\r\n        console.log(error.code);\r\n        NotificationManager.error(\r\n          'Please try again',\r\n          'Something wrong happened'\r\n        );\r\n      });\r\n  };\r\n\r\n  privateRoute = () => {\r\n    if (localStorage.getItem('user')) {\r\n      return (\r\n        <>\r\n          <li className='nav-item'>\r\n            <NavLink\r\n              to='/create-book'\r\n              className='nav-link'\r\n              activeClassName='active'>\r\n              Create New Book\r\n            </NavLink>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <button onClick={this.logOut} className='btn btn-link nav-link'>\r\n              Logout\r\n            </button>\r\n          </li>\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <li className='nav-item'>\r\n            <NavLink to='/login' className='nav-link' activeClassName='active'>\r\n              Login\r\n            </NavLink>\r\n          </li>\r\n          <li className='nav-item'>\r\n            <NavLink\r\n              to='/register'\r\n              className='nav-link'\r\n              activeClassName='active'>\r\n              Register\r\n            </NavLink>\r\n          </li>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <nav className='navbar navbar-expand-lg navbar-dark bg-dark static-top'>\r\n          <div className='container'>\r\n            <NavLink className='navbar-brand' to='/'>\r\n              DGBook\r\n            </NavLink>\r\n            <button className='navbar-toggler' type='button'>\r\n              <span className='navbar-toggler-icon' />\r\n            </button>\r\n            <div className='collapse navbar-collapse' id='navbarResponsive'>\r\n              <ul className='navbar-nav ml-auto'>\r\n                <li className='nav-item'>\r\n                  <NavLink\r\n                    exact\r\n                    to='/'\r\n                    className='nav-link'\r\n                    activeClassName='active'>\r\n                    Home\r\n                  </NavLink>\r\n                </li>\r\n                {this.privateRoute()}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {db} from '../fire-base';\r\n\r\nclass Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      books: [],\r\n      searchKeyword: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    db.collection('books')\r\n      .get()\r\n      .then(querySnapshot => {\r\n        const data = querySnapshot.docs.map(doc => doc.data());\r\n        localStorage.setItem('books', JSON.stringify(data));\r\n        console.log(data);\r\n        this.setState({books: data});\r\n      });\r\n  }\r\n\r\n  handleSearchChange = event => {\r\n    this.setState({searchKeyword: event.target.value});\r\n  };\r\n\r\n  handleFilterData = () => {\r\n    let {books, searchKeyword} = this.state;\r\n\r\n    let filterResult = books;\r\n    if (searchKeyword) {\r\n      filterResult = filterResult.filter(book =>\r\n        book.title.toLowerCase().includes(searchKeyword.toLowerCase())\r\n      );\r\n    }\r\n\r\n    return filterResult;\r\n  };\r\n\r\n  buyBook = () => {\r\n    console.log('Buy book function placeholder');\r\n  };\r\n\r\n  canEdit = (book) => {\r\n    const userUid = localStorage.getItem('user');\r\n    if(userUid && userUid === book.userUid){\r\n      return (\r\n        <Link to={`edit-book/${book.uid}`}>\r\n          <h3>{book.title}</h3>\r\n        </Link>\r\n      )\r\n    } \r\n    else {\r\n      return <h3>{book.title}</h3>\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const books = this.handleFilterData();\r\n    return (\r\n      <div className='container'>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <h1 className='mt-5'>What book will you buy today?</h1>\r\n            <p className='lead'>Here is the latest recommendations</p>\r\n          </div>\r\n        </div>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <form>\r\n              <div className='form-row'>\r\n                <div className='col-8'>\r\n                  <input\r\n                    type='text'\r\n                    className='form-control'\r\n                    placeholder='Search by title'\r\n                    onChange={this.handleSearchChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        <div className='row mb-5'>\r\n          {books.map(book => (\r\n            <div key={book.uid} className='col-lg-6 col-md-6 col-s-12 mb-4'>\r\n              <div className='card h-100'>\r\n                <div className='card-horizontal'>\r\n                  <div className='img-wrapper'>\r\n                    <img\r\n                      className='img-fluid'\r\n                      src={\r\n                        book.image\r\n                          ? book.image\r\n                          : 'https://via.placeholder.com/316x499.jpg'\r\n                      }\r\n                      alt={book.title}\r\n                    />\r\n                  </div>\r\n                  <div className='card-body'>\r\n                    {this.canEdit(book)}\r\n                    <h6>{book.author}</h6>\r\n                    <div className='card-text'>\r\n                      <div>Rating: {`${book.rating}/10`}</div>\r\n                      <div>\r\n                        <a\r\n                          className='btn btn-primary'\r\n                          href={book.link}\r\n                          target='_blank'\r\n                          rel='noopener noreferrer'>\r\n                          Buy this\r\n                        </a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {auth} from '../fire-base';\r\n\r\nimport {NotificationManager} from 'react-notifications';\r\n\r\nclass Login extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formValues: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      formErrors: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      formValidity: {\r\n        email: false,\r\n        password: false,\r\n      },\r\n      isSubmitting: false\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('user')){\r\n      this.props.history.push('/')\r\n    }\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({isSubmitting: true})\r\n    const {formValues, formValidity} = this.state;\r\n    if (Object.values(formValidity).every(Boolean)) {\r\n      auth\r\n        .signInWithEmailAndPassword(formValues.email, formValues.password)\r\n        .then(response => {\r\n          NotificationManager.success(\r\n            'You are now logged in',\r\n            'Login Success'\r\n          );\r\n          localStorage.setItem('user', response.user.uid);\r\n          this.props.history.push('/');\r\n        })\r\n        .catch(error => {\r\n          console.log(error.message);\r\n          NotificationManager.error(\r\n            'Please try again',\r\n            'Something wrong happened'\r\n          );\r\n          this.setState({isSubmitting: false});\r\n        });\r\n    } else {\r\n      for (let key in formValues) {\r\n        let target = {\r\n          name: key,\r\n          value: formValues[key],\r\n        };\r\n        this.handleValidation(target);\r\n      }\r\n      NotificationManager.error(\r\n        'Please check on the validation message below form fields',\r\n        'Validation error'\r\n      );\r\n      this.setState({isSubmitting: false});\r\n    }\r\n  };\r\n\r\n  handleChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues[target.name] = target.value;\r\n    this.setState({formValues});\r\n    this.handleValidation(target);\r\n  };\r\n\r\n  handleValidation = target => {\r\n    const {name, value} = target;\r\n    const fieldValidationErrors = this.state.formErrors;\r\n    const validity = this.state.formValidity;\r\n    const isEmail = name === 'email';\r\n    const emailTest = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\r\n\r\n    validity[name] = value.length > 0;\r\n    fieldValidationErrors[name] = validity[name]\r\n      ? ''\r\n      : `${name} is required and cannot be empty`;\r\n\r\n    if (validity[name]) {\r\n      if (isEmail) {\r\n        validity[name] = emailTest.test(value);\r\n        fieldValidationErrors[name] = validity[name]\r\n          ? ''\r\n          : `${name} should be a valid email address`;\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      formErrors: fieldValidationErrors,\r\n      formValidity: validity,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {formValues, formErrors, isSubmitting} = this.state;\r\n    return (\r\n      <>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <h1 className='mt-5'>Please enter your credential for login</h1>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-lg-12'>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div className='form-group'>\r\n                <label>Email address</label>\r\n                <input\r\n                  type='email'\r\n                  name='email'\r\n                  className={`form-control ${\r\n                    formErrors.email ? 'is-invalid' : ''\r\n                  }`}\r\n                  placeholder='Enter email'\r\n                  onChange={this.handleChange}\r\n                  value={formValues.email}\r\n                />\r\n                <div className='invalid-feedback'>{formErrors.email}</div>\r\n              </div>\r\n              <div className='form-group'>\r\n                <label>Password</label>\r\n                <input\r\n                  type='password'\r\n                  name='password'\r\n                  className={`form-control ${\r\n                    formErrors.password ? 'is-invalid' : ''\r\n                  }`}\r\n                  placeholder='Password'\r\n                  onChange={this.handleChange}\r\n                  value={formValues.password}\r\n                />\r\n                <div className='invalid-feedback'>{formErrors.password}</div>\r\n              </div>\r\n              <button type='submit' className='btn btn-primary btn-block' disabled={isSubmitting}>\r\n                { isSubmitting? 'Please wait...': 'Submit' }\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport {auth} from '../fire-base';\r\n\r\nimport {NotificationManager} from 'react-notifications';\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formValues: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      formErrors: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      formValidity: {\r\n        email: false,\r\n        password: false,\r\n      },\r\n      isSubmitting: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    if(localStorage.getItem('user')){\r\n      this.props.history.push('/')\r\n    }\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({isSubmitting: true});\r\n    const {formValues, formValidity} = this.state;\r\n    if (Object.values(formValidity).every(Boolean)) {\r\n      auth\r\n        .createUserWithEmailAndPassword(formValues.email, formValues.password)\r\n        .then(response => {\r\n          NotificationManager.success(\r\n            `You are now registered`,\r\n            'Register successful'\r\n          );     \r\n          localStorage.setItem('user', response.user.uid);\r\n          this.props.history.push('/');   \r\n        })\r\n        .catch(error => {\r\n          this.setState({isSubmitting: false});\r\n          NotificationManager.error(error.message, 'Register failed');\r\n        });\r\n    } else {\r\n      for (let key in formValues) {\r\n        let target = {\r\n          name: key,\r\n          value: formValues[key],\r\n        };\r\n        this.handleValidation(target);\r\n      }\r\n      NotificationManager.error(\r\n        'Please check on the validation message below form fields',\r\n        'Validation error'\r\n      );\r\n      this.setState({isSubmitting: false});\r\n    }\r\n  };\r\n\r\n  handleChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues[target.name] = target.value;\r\n    this.setState({formValues});\r\n    this.handleValidation(target);\r\n  };\r\n\r\n  handleValidation = target => {\r\n    const {name, value} = target;\r\n    const fieldValidationErrors = this.state.formErrors;\r\n    const validity = this.state.formValidity;\r\n    const isEmail = name === 'email';\r\n    const emailTest = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i;\r\n\r\n    validity[name] = value.length > 0;\r\n    fieldValidationErrors[name] = validity[name]\r\n      ? ''\r\n      : `${name} is required and cannot be empty`;\r\n\r\n    if (validity[name]) {\r\n      if (isEmail) {\r\n        validity[name] = emailTest.test(value);\r\n        fieldValidationErrors[name] = validity[name]\r\n          ? ''\r\n          : `${name} should be a valid email address`;\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      formErrors: fieldValidationErrors,\r\n      formValidity: validity,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {formValues, formErrors, isSubmitting} = this.state;\r\n    return (\r\n      <>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <h1 className='mt-5'>Register New Account</h1>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-lg-12'>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div className='form-group'>\r\n                <label>Email address</label>\r\n                <input\r\n                  type='email'\r\n                  name='email'\r\n                  className={`form-control ${\r\n                    formErrors.email ? 'is-invalid' : ''\r\n                  }`}\r\n                  placeholder='Enter email'\r\n                  onChange={this.handleChange}\r\n                  value={formValues.email}\r\n                />\r\n                <div className='invalid-feedback'>{formErrors.email}</div>\r\n                <small id='emailHelp' className='form-text text-muted'>\r\n                  We'll never share your email with anyone else.\r\n                </small>\r\n              </div>\r\n              <div className='form-group'>\r\n                <label>Password</label>\r\n                <input\r\n                  type='password'\r\n                  name='password'\r\n                  className={`form-control ${\r\n                    formErrors.password ? 'is-invalid' : ''\r\n                  }`}\r\n                  placeholder='Password'\r\n                  onChange={this.handleChange}\r\n                  value={formValues.password}\r\n                />\r\n                <div className='invalid-feedback'>{formErrors.password}</div>\r\n              </div>\r\n              <button\r\n                type='submit'\r\n                className='btn btn-primary btn-block'\r\n                disabled={isSubmitting}>\r\n                {isSubmitting ? 'Please wait...' : 'Submit'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport {NotificationManager} from 'react-notifications';\r\n\r\nimport {db, storage} from '../fire-base';\r\n\r\nclass EditBook extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formValues: {\r\n        title: '',\r\n        author: '',\r\n        rating: 1,\r\n        link: '',\r\n        image: '',\r\n      },\r\n      formErrors: {\r\n        title: false,\r\n        author: false,\r\n        rating: false,\r\n        link: false,\r\n      },\r\n      formValidity: {\r\n        title: true,\r\n        author: true,\r\n        rating: true,\r\n        link: true,\r\n      },\r\n      isSubmitting: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!localStorage.getItem('user')) {\r\n      NotificationManager.warning(\r\n        'You need to login first',\r\n        'Anauthorized access'\r\n      );\r\n      this.props.history.push('/');\r\n    } else {\r\n      // get book data\r\n      // filter the right book\r\n      // then set it to state\r\n      db.collection('books')\r\n        .get()\r\n        .then(querySnapshot => {\r\n          const data = querySnapshot.docs.map(doc => doc.data());\r\n          localStorage.setItem('books', JSON.stringify(data));\r\n          console.log(data);\r\n          let book = data.filter(\r\n            book => book.uid === Number(this.props.match.params.bookUid)\r\n          );\r\n          book = book[0];\r\n          const formValues = {\r\n            title: book.title,\r\n            author: book.author,\r\n            rating: book.rating,\r\n            link: book.link,\r\n            image: book.image,\r\n          };\r\n          this.setState({formValues});\r\n        });\r\n    }\r\n  }\r\n\r\n  handleInputChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues[target.name] = target.value;\r\n    this.setState({formValues});\r\n    this.handleValidation(target);\r\n  };\r\n\r\n  handleFileChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues['image'] = target.files[0];\r\n    this.setState({formValues});\r\n  };\r\n\r\n  handleValidation = target => {\r\n    const {name, value} = target;\r\n    const fieldValidationErrors = this.state.formErrors;\r\n    const validity = this.state.formValidity;\r\n    const isImage = name === 'image';\r\n\r\n    if (!isImage) {\r\n      validity[name] = value.length > 0;\r\n      fieldValidationErrors[name] = validity[name]\r\n        ? ''\r\n        : `${name} is required and cannot be empty`;\r\n\r\n      this.setState({\r\n        formErrors: fieldValidationErrors,\r\n        formValidity: validity,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    if (!this.props.user) {\r\n      NotificationManager.warning(\r\n        'You need to login first',\r\n        'Anauthorized access'\r\n      );\r\n      this.props.history.push('/login');\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    this.setState({isSubmitting: true});\r\n    const {formValues, formValidity} = this.state;\r\n    if (Object.values(formValidity).every(Boolean)) {\r\n      // create firebase storage ref\r\n      const storageRef = storage.ref();\r\n      const {image} = formValues;\r\n      console.log(image);\r\n      if (image instanceof File) {\r\n\r\n        const uploadTask = storageRef.child(image.name).put(image);\r\n        uploadTask.on('state_changed', {\r\n          error: () => {\r\n            NotificationManager.error(\r\n              'Please try again',\r\n              'Something went wrong with image upload'\r\n            );\r\n            this.setState({isSubmitting: false});\r\n          },\r\n          complete: () => {\r\n            // Upload completed successfully, now we can get the download URL\r\n            uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n              console.log('File available at', downloadURL);\r\n              this.editBook(downloadURL);\r\n            });\r\n          },\r\n        });\r\n      } else {\r\n        this.editBook(image);\r\n      }\r\n    } else {\r\n      for (let key in formValues) {\r\n        let target = {\r\n          name: key,\r\n          value: formValues[key],\r\n        };\r\n        this.handleValidation(target);\r\n      }\r\n      NotificationManager.error(\r\n        'Please check on the validation message below form fields',\r\n        'Validation error'\r\n      );\r\n      this.setState({isSubmitting: false});\r\n    }\r\n  };\r\n\r\n  editBook = downloadUrl => {\r\n    const data = {...this.state.formValues, image: downloadUrl};\r\n    db.collection('books')\r\n      .doc(this.props.match.params.bookUid)\r\n      .set(data)\r\n      .then(() => {\r\n        NotificationManager.success(\r\n          `${data.title} book detail has been updated`,\r\n          'Success'\r\n        );\r\n        localStorage.removeItem('books');\r\n        this.props.history.push('/');\r\n      })\r\n      .catch(error => {\r\n        NotificationManager.error(error.message, 'Update failed');\r\n        this.setState({isSubmitting: false});\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {formValues, formErrors, isSubmitting} = this.state;\r\n    return (\r\n      <>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <h1 className='mt-5'>Create a new book</h1>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-lg-12'>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Title</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.title ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Book title'\r\n                    name='title'\r\n                    value={formValues.title}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.title}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Author</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.author ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Book author'\r\n                    name='author'\r\n                    value={formValues.author}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.author}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Rating</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='number'\r\n                    className={`form-control ${\r\n                      formErrors.rating ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='From 1 to 10'\r\n                    name='rating'\r\n                    value={formValues.rating}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <small className='form-text text-muted'>\r\n                    Rate from 1 to 10\r\n                  </small>\r\n                </div>\r\n                <div className='invalid-feedback'>{formErrors.rating}</div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Link</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.link ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Buy link'\r\n                    name='link'\r\n                    value={formValues.link}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.link}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Image</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='file'\r\n                    name='image'\r\n                    className='form-control-file'\r\n                    onChange={this.handleFileChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button\r\n                type='submit'\r\n                className='btn btn-primary btn-block'\r\n                disabled={isSubmitting}>\r\n                {isSubmitting ? 'Please wait...' : 'Submit'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditBook;\r\n","import React from 'react';\r\nimport {NotificationManager} from 'react-notifications';\r\n\r\nimport {db, storage} from '../fire-base';\r\n\r\nclass CreateBook extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      formValues: {\r\n        title: '',\r\n        author: '',\r\n        rating: 1,\r\n        link: '',\r\n        image: '',\r\n      },\r\n      formErrors: {\r\n        title: false,\r\n        author: false,\r\n        rating: false,\r\n        link: false,\r\n      },\r\n      formValidity: {\r\n        title: false,\r\n        author: false,\r\n        rating: false,\r\n        link: false,\r\n      },\r\n      isSubmitting: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!localStorage.getItem('user')) {\r\n      NotificationManager.warning(\r\n        'You need to login first',\r\n        'Anauthorized access'\r\n      );\r\n      this.props.history.push('/');\r\n    }\r\n  }\r\n\r\n  handleInputChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues[target.name] = target.value;\r\n    this.setState({formValues});\r\n    this.handleValidation(target);\r\n  };\r\n\r\n  handleFileChange = ({target}) => {\r\n    const {formValues} = this.state;\r\n    formValues['image'] = target.files[0];\r\n    this.setState({formValues});\r\n  };\r\n\r\n  handleValidation = target => {\r\n    const {name, value} = target;\r\n    const fieldValidationErrors = this.state.formErrors;\r\n    const validity = this.state.formValidity;\r\n    const isImage = name === 'image';\r\n\r\n    if (!isImage) {\r\n      validity[name] = value.length > 0;\r\n      fieldValidationErrors[name] = validity[name]\r\n        ? ''\r\n        : `${name} is required and cannot be empty`;\r\n\r\n      this.setState({\r\n        formErrors: fieldValidationErrors,\r\n        formValidity: validity,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    if (!this.props.user) {\r\n      NotificationManager.warning(\r\n        'You need to login first',\r\n        'Anauthorized access'\r\n      );\r\n      this.props.history.push('/login');\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    this.setState({isSubmitting: true});\r\n    const {formValues, formValidity} = this.state;\r\n    if (Object.values(formValidity).every(Boolean)) {\r\n      // create firebase storage ref\r\n      const storageRef = storage.ref();\r\n      const {image} = formValues;\r\n      if (image) {\r\n\r\n        const uploadTask = storageRef.child(image.name).put(image);\r\n        uploadTask.on('state_changed', {\r\n          error: () => {\r\n            NotificationManager.error(\r\n              'Please try again',\r\n              'Something went wrong with image upload'\r\n            );\r\n          },\r\n          complete: () => {\r\n            // Upload completed successfully, now we can get the download URL\r\n            uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n              console.log('File available at', downloadURL);\r\n              this.addBook(downloadURL);\r\n            });\r\n          },\r\n        });\r\n      } else {\r\n        this.addBook(null);\r\n      }\r\n    } else {\r\n      for (let key in formValues) {\r\n        let target = {\r\n          name: key,\r\n          value: formValues[key],\r\n        };\r\n        this.handleValidation(target);\r\n      }\r\n      NotificationManager.error(\r\n        'Please check on the validation message below form fields',\r\n        'Validation error'\r\n      );\r\n      this.setState({isSubmitting: false});\r\n    }\r\n  };\r\n\r\n  addBook = downloadURL => {\r\n    const data = {\r\n      ...this.state.formValues,\r\n      uid: new Date().getTime(),\r\n      userUid: this.props.user.uid,\r\n      image: downloadURL,\r\n    };\r\n    db.collection('books')\r\n      .doc(data.uid.toString())\r\n      .set(data)\r\n      .then(() => {\r\n        NotificationManager.success(\r\n          'A new book has been added to the store',\r\n          'Success'\r\n        );\r\n        this.props.history.push('/');\r\n      })\r\n      .catch(error => {\r\n        NotificationManager.error(error.message, 'Create Book failed');\r\n        this.setState({isSubmitting: false});\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {formValues, formErrors, isSubmitting} = this.state;\r\n    return (\r\n      <>\r\n        <div className='row mb-5'>\r\n          <div className='col-lg-12 text-center'>\r\n            <h1 className='mt-5'>Create a new book</h1>\r\n          </div>\r\n        </div>\r\n        <div className='row'>\r\n          <div className='col-lg-12'>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Title</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.title ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Book title'\r\n                    name='title'\r\n                    value={formValues.title}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.title}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Author</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.author ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Book author'\r\n                    name='author'\r\n                    value={formValues.author}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.author}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Rating</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='number'\r\n                    className={`form-control ${\r\n                      formErrors.rating ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='From 1 to 10'\r\n                    name='rating'\r\n                    value={formValues.rating}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <small className='form-text text-muted'>\r\n                    Rate from 1 to 10\r\n                  </small>\r\n                </div>\r\n                <div className='invalid-feedback'>{formErrors.rating}</div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Link</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='text'\r\n                    className={`form-control ${\r\n                      formErrors.link ? 'is-invalid' : ''\r\n                    }`}\r\n                    placeholder='Buy link'\r\n                    name='link'\r\n                    value={formValues.link}\r\n                    onChange={this.handleInputChange}\r\n                  />\r\n                  <div className='invalid-feedback'>{formErrors.link}</div>\r\n                </div>\r\n              </div>\r\n              <div className='form-group row'>\r\n                <div className='col-sm-2'>Image</div>\r\n                <div className='col-sm-10'>\r\n                  <input\r\n                    type='file'\r\n                    name='image'\r\n                    className='form-control-file'\r\n                    onChange={this.handleFileChange}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button\r\n                type='submit'\r\n                className='btn btn-primary btn-block'\r\n                disabled={isSubmitting}>\r\n                {isSubmitting ? 'Please wait...' : 'Submit'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateBook;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NoMatch = () => {\r\n  return (\r\n    <div className='row mb-5'>\r\n      <div className='jumbotron'>\r\n        <h1 className='display-4'>We can't find what you're looking for</h1>\r\n        <p className='lead'>This is a simple not found page.</p>\r\n        <hr className='my-4' />\r\n        <p>There really is nothing here. Let's go back to home</p>\r\n        <p className='lead'>\r\n          <Link to='/'>Bact to home</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NoMatch;\r\n","import React from 'react';\r\nimport {Switch, Route} from 'react-router-dom';\r\nimport {NotificationContainer} from 'react-notifications';\r\n\r\nimport {auth} from '../fire-base';\r\nimport Header from './Header';\r\nimport Home from './Home';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport EditBook from './EditBook';\r\nimport CreateBook from './CreateBook';\r\nimport NoMatch from './NoMatch';\r\n\r\nclass App extends React.Component {\r\n\r\n  state= { user: false}\r\n  \r\n  componentDidMount(){\r\n    this.authListener = auth.onAuthStateChanged(user => {\r\n      this.setState({user})\r\n    });\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.authListener();\r\n  }\r\n\r\n  render() {\r\n    const {user} = this.state;\r\n    return (\r\n      <>\r\n        <NotificationContainer/>\r\n        <Header user={user}/>\r\n        <div className='container'>\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route path='/login' component={Login} />\r\n            <Route path='/register' component={Register} />\r\n            <Route path='/create-book' render={props => <CreateBook {...props} user={user}/>} />\r\n            <Route path='/edit-book/:bookUid' render={props => <EditBook {...props} user={user}/>} />\r\n            <Route component={NoMatch} />\r\n          </Switch>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport './style/style.css';\r\nimport App from './component/App';\r\nimport {BrowserRouter as Router } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}